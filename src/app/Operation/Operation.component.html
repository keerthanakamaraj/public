<form class="MakeRelative lyt-operation-queue page-layout-padding">
  <div class="ShowLoading " *ngIf="loadSpinner">
    <div class="lds-roller MakeItMiddle">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>

  <div class="clearfix content">
    <div class="wgt-top-navigator row" [ngStyle]="{'display' : displayTitle ? 'block': 'none'}">
      <div class="col-sm-12 col-md-12">
        <div class="FormTitle no-border">
          <a class="back" (click)="goBack()">Back</a>
          <span>{{ 'Operation.FormTitle' | translate }}</span>
        </div>
      </div>
      <div class="col-sm-7 col-md-7 text-right xt-center" *ngIf="!formOnLoadError"></div>
    </div>
    <app-hidden #HideCurrentStage fieldID="HideCurrentStage"></app-hidden>
    <app-hidden #HideProcessId fieldID="HideProcessId"></app-hidden>
    <app-hidden #HideServiceCode fieldID="HideServiceCode"></app-hidden>
    <app-hidden #HideTaskId fieldID="HideTaskId"></app-hidden>
    <app-hidden #HideTenantId fieldID="HideTenantId"></app-hidden>
    <app-hidden #HideUserId fieldID="HideUserId"></app-hidden>
    <app-hidden #HideAppId fieldID="HideAppId"></app-hidden>
    <app-hidden #HideServiceCodeComplete fieldID="HideServiceCodeComplete"></app-hidden>
    <app-hidden #hideDirection fieldID="hideDirection"></app-hidden>
    <app-hidden #HideDecision fieldID="HideDecision"></app-hidden>

    <div class="alert alert-danger" *ngIf="formOnLoadError">{{formOnLoadErrorMsg}}</div>
    <div *ngIf="!formOnLoadError">
      <div class="clearfix bi-reponsive" [ngClass]="{'display-border' : displayBorder}">
        <div class="form-group pb10 row">
          <div class="col-12  col-sm-12 col-md-12 res-pr-hide" [hidden]="HEADER.isHidden()">
            <app-Header #HEADER fieldID="HEADER" [formCode]="formCode" (headerStateEvent)="headerState($event)"
              (productCategoryFound)="brodcastProdCategory($event)">
            </app-Header>
          </div>
        </div>
      </div>
      <!-- <div class="col-12  col-sm-2 col-md-2 res-pr-hide" [hidden]="VIEW_DDE.isHidden()">
        <i class="fa fa edit"></i>
      </div> -->

      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>

      <div class="col-12 col-sm-12 col-md-12 res-pr-hide document-upload"
        [ngClass]="showExpandedHeader ? '' : 'header-expanded-op'">
        <div class="view-dde-section" [hidden]="VIEW_DDE.isHidden()">
          <app-button #VIEW_DDE fieldName="{{ 'Operation.VIEW_DDE' | translate}}" fieldID="VIEW_DDE"
            customClass="btn btn-primary" (click)="viewDDE()" [formCode]="formCode" style="margin-top: 36px">
          </app-button>
        </div>
        <div class="wgt-doc-upload open-folder" (click)="openFileUpload()">
          <a href="javascript:void(0);" class="icon-folder-open"></a>
        </div>
      </div>

      <div class="col-12  col-sm-4 col-md-4 res-pr-hide" style="margin-top: 36px;">
        <app-label #FieldId_1 parentCompCode="Operation" fieldID="FieldId_1" [formCode]="formCode"
          fontFamily="sans-serif" fontColor="#0079B8" fontStyle="normal" fontSize="20px" fontWeight="400"></app-label>
      </div>
      <div class="col-12  col-sm-12 col-md-12 res-pr-hide">
        <div style=" width:100%; background:#CCCCCC ;height:1px;">
        </div>
      </div>
      <div class="app-Container">
        <app-label class="group-default" #ApplicationInfo parentCompCode="Operation" fieldID="ApplicationInfo"
          [formCode]="formCode">
        </app-label>
        <app-ApplicationDtls #APPLICATION_DETAILS fieldID="APPLICATION_DETAILS" [formCode]="formCode">
        </app-ApplicationDtls>
      </div>

      <div class="customer-Container">
        <app-label #CustomerInfo parentCompCode="Operation" fieldID="CustomerInfo" [formCode]="formCode"></app-label>
        <div class="col-12  col-sm-12 col-md-12 res-pr-hide" [hidden]="CUST_GRID.isHidden()">
          <app-CustGrid #CUST_GRID fieldID="CUST_GRID" [formCode]="formCode" style="padding-top: 0px;"></app-CustGrid>
        </div>
      </div>

      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>

      <div>
        <div class="loan-Container" *ngIf="isLoanCategory">
          <div>
            <app-label #FieldId_3 parentCompCode="Operation" fieldID="FieldId_3" [formCode]="formCode"></app-label>
          </div>
          <div style="margin-left: 4px;">
            <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="DisbustAmt.isHidden()">
              <div class="clr-brown fieldLegend">
                <label class="clr-brown" style="margin-bottom: 20px;">
                  {{ 'Operation.DisbustAmt' | translate}}
                </label>
              </div>
              <app-amount #DisbustAmt fieldID="DisbustAmt" [formCode]="formCode"
                (blur)="genericOnBlur('DisbustAmt', $event)"></app-amount>
            </div>

            <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="LOAN_DBR.isHidden()">
              <div class="clr-brown fieldLegend">
                <label class="clr-brown" style="margin-bottom: 20px;">
                  {{ 'Operation.LOAN_DBR' | translate}}
                </label>
              </div>
              <app-text-box #LOAN_DBR fieldID="LOAN_DBR" [formCode]="formCode" (blur)="genericOnBlur('LOAN_DBR', $event)">
              </app-text-box>
            </div>

            <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="EMI_Amt.isHidden()">
              <div class="clr-brown fieldLegend">
                <label class="clr-brown" style="margin-bottom: 20px;">
                  {{ 'Operation.EMI_Amt' | translate}}
                </label>
              </div>
              <app-amount #EMI_Amt fieldID="EMI_Amt" [formCode]="formCode" (blur)="genericOnBlur('EMI_Amt', $event)">
              </app-amount>
            </div>
          </div>
        </div>
        <br>
        <div class="card-Container" *ngIf="!isLoanCategory">
          <div>
            <app-label #FieldId_8 parentCompCode="Operation" fieldID="FieldId_8" [formCode]="formCode"></app-label>
          </div>

          <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="Apved_Limit.isHidden()"
            style="margin-left: 6px;">
            <div class="clr-brown fieldLegend" style="margin-bottom: 20px;">
              <label class="clr-brown">
                {{ 'Operation.Apved_Limit' | translate}}
              </label>
            </div>
            <app-amount #Apved_Limit fieldID="Apved_Limit" [formCode]="formCode"
              (blur)="genericOnBlur('Apved_Limit', $event)"></app-amount>
          </div>

          <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="Card_DBR.isHidden()">
            <div class="clr-brown fieldLegend">
              <label class="clr-brown" style="margin-bottom: 20px;">
                {{ 'Operation.Card_DBR' | translate}}
              </label>
            </div>
            <app-text-box #Card_DBR fieldID="Card_DBR" [formCode]="formCode" (blur)="genericOnBlur('Card_DBR', $event)">
            </app-text-box>
          </div>
        </div>
      </div>
      <div style="min-height: 0px;height: 0px;" class="col-12 col-sm-12 col-md-12"></div>
      <br>
      <!-- <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div> -->
      <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
      <div class="doc-Container">
        <div class="doc-Container" *ngIf="this.documentTypeGrid.length">
          <app-label #Document_Information parentCompCode="Operation" fieldID="Document_Information"
            [formCode]="formCode">
          </app-label>

          <div class="row">
            <div class="col-md-12">
              <div class="op-doc-list-table">
                <div class="panel-default table col-12  col-sm-12 col-md-12 res-pr-hide">
                  <table *ngIf="this.documentTypeGrid.length">
                    <thead>
                      <tr class="grid-comments">
                        <!-- <th id='col1' class="text-left">{{getLabel('DOC_UP_OWNER')}}</th>
                        <th id='col2'>{{getLabel('DOCUMENT_NAME')}}</th>
                        <th id='col3'>{{getLabel('DOC_UP_FILE_NAME')}}</th>
                        <th id='col4'>{{getLabel('DOC_REL_TO_BORR')}}</th>
                        <th id='col5'>{{getLabel('COLLECTION_DATE')}}</th>
                        <th id='col6'>{{getLabel('STATUS')}}</th> 
                        <th id='col7'>{{getLabel('DOC_UPLOADED_BY')}}</th>
                        <th id='col8'>{{getLabel('DOC_UPLOADED_ON')}}</th> -->
                        <th id='col1' class="text-left">Owner</th>
                        <th id='col2'>Document Name</th>
                        <th id='col3'>File Name</th>
                        <th id='col4'>Relationship to Borrower</th>
                        <th id='col5'>Collection Date</th>
                        <th id='col6'>Status</th>
                        <th id='col7'>Uploaded By</th>
                        <th id='col8'>Uploaded Date/Time</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="docheader" *ngFor="let imgDtl of documentTypeGrid">
                        <td class="text-left">{{imgDtl.OwnerName}}</td>
                        <td>{{imgDtl.docDesc}}</td>
                        <td class="text-ellipses download-img" title="{{imgDtl.DocName}}"><a
                            (click)="downloadFile(imgDtl.cfsInvNumber)">{{imgDtl.DocName}}</a></td>
                        <td>{{imgDtl.relationshipToBorrower}}</td>
                        <td>{{imgDtl.collectionDate}}</td>
                        <td>{{imgDtl.StatusDesc}}</td>
                        <td>{{imgDtl.InputterId}}</td>
                        <td>{{imgDtl.InputterDt}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 
        <table #DocumentTable style="margin-left: 21px; width: 97%;">
          <tr
            style="background-color: #e4f0f9; font-family: open sans; font-weight: normal; font-size: 12px; line-height: 17px; color: #565656; height:45px;">
            <th style="border: none;">Sr No.</th>
            <th style="border: none;">Document Type</th>
            <th style="border: none;">Document Name</th>
            <th style="border: none;"></th>
          </tr>
          <tr>
            <td style="border: none;">1</td>
            <td style="border: none;"><span (click)="openLetter('Lily-Abebe-Salary-Certificate.pdf')" style="color: black; cursor: pointer;">Salary Certificate</span></td>
            <td style="border: none;"><span (click)="openLetter('Lily-Abebe-Salary-Certificate.pdf')" style="color: black; cursor: pointer;">Latest Salary Certificate</span></td>
            <td style="border: none;"><input type="checkbox" name="name20" /></td>
          </tr>
          <tr>
            <td style="border: none;">2</td>
            <td style="border: none;"><span (click)="openLetter('Lilly-Abebe-Bank-Statement.pdf')" style="color: black; cursor: pointer;">Bank Statement</span></td>
            <td style="border: none;"><span (click)="openLetter('Lilly-Abebe-Bank-Statement.pdf')" style="color: black; cursor: pointer;">Latest Bank Statement</span></td>
            <td style="border: none;"><input type="checkbox" name="name20" /></td>
          </tr>
        </table> -->
      </div>

      <div class="button-Container">
        <div class="col-12  col-sm-4 col-md-4 res-pr-hide" [hidden]="G_LETTER.isHidden()" style="margin-top: top 30px;">
          <app-button class="generate_letter" #G_LETTER fieldName="{{ 'Operation.G_LETTER' | translate}}"
            fieldID="G_LETTER" customClass="btn btn-primary" (click)="onLetterClick()" [formCode]="formCode">
          </app-button>
        </div>
        <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
        <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
        <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
        <div class="col-12 col-sm-12 col-md-12 res-pr-hide" *ngIf="documentShow">
          <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
          <div class="col-12 col-sm-12 col-md-12 res-pr-hide"></div>
          <span style="margin-left: 4px;"><a (click)="fetchLetter()">Final Sanction letter</a></span>
        </div>
      </div>
      <div class="cust-acknwlg-Container col-12 col-sm-12 col-md-12">
        <br>
        <div class="col-12  col-sm-4 col-md-4 res-pr-hide">
          <div class="clr-brown fieldLegend">
            <label class="clr-brown">
              {{ 'Operation.AD_CUST_STATUS' | translate}}
            </label>
          </div>
          <rlo-ui-radio #AD_CUST_STATUS fieldID="AD_CUST_STATUS" domainObjectUrl="/MSTGENERALPARAM/{VALUE1}"
            doServerUrl="/masters" domainObjectCode="MSTGENERALPARAM" (blur)="genericOnBlur('AD_CUST_STATUS', $event)">
          </rlo-ui-radio>
          <!-- <rlo-ui-radio fieldID="AD_CUST_STATUS" 
            [emittedOptions]="custStatusOptionList"></rlo-ui-radio> -->
        </div>

        <div class="col-12  col-sm-4 col-md-4 res-pr-hide">
          <div class="clr-brown fieldLegend">
            <label class="clr-brown" style="margin-bottom: 20px;">
              {{ 'Operation.AD_CUST_REMARKS' | translate}}
            </label>
          </div>
          <app-text-area #AD_CUST_REMARKS fieldID="AD_CUST_REMARKS" (blur)="genericOnBlur('AD_CUST_REMARKS', $event)">
          </app-text-area>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12  col-sm-12 col-md-12 group-default op-button">
    <div #BUTTON_SECTION id="BUTTON_SECTION">
      <div class="pb10 button-group">
        <div class="col-12  col-sm-2 col-md-2"></div>
        <div class="col-12  col-sm-8 col-md-8 text-center">
          <app-button #OPERATION_APPROVE fieldName="{{ 'Operation.OPERATION_APPROVE' | translate}}"
            fieldID="OPERATION_APPROVE" [formCode]="formCode" customClass="btn btn-primary"
            (buttonClick)="OPERATION_SUBMIT_click($event)">
          </app-button>
          <app-button #OPERATION_WITHDRAW fieldName="{{ 'Operation.OPERATION_WITHDRAW' | translate}}"
            fieldID="OPERATION_APPROVE" [formCode]="formCode" customClass="btn-warning-outline"
            (buttonClick)="OPERATION_WITHDRAW_click($event)">
          </app-button>
          <app-button #OPERATION_SENDBACK fieldName="{{ 'Operation.OPERATION_SENDBACK' | translate}}"
            fieldID="OPERATION_SENDBACK" [formCode]="formCode" customClass="btn-warning-outline"
            (buttonClick)="OPERATION_SENDBACK_click($event)">
          </app-button>
          <app-button #OPERATION_CLOSE fieldName="{{ 'Operation.OPERATION_CLOSE' | translate}}"
            fieldID="OPERATION_CLOSE" [formCode]="formCode" customClass="btn-warning-outline"
            (buttonClick)="OPERATION_CLOSE_click($event)">
          </app-button>
        </div>
        <div class="col-12  col-sm-2 col-md-2"></div>
      </div>
    </div>
  </div>
  <!-- </div>
  </div> -->

</form>
