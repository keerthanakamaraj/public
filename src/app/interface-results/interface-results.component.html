<div class="lyt-interface-result">
  <div class="section">
    <span class="interface-types">External Interface Result</span>
    <div style="overflow-x:auto;">
      <table>
        <tbody>
          <tr>
            <th><span></span></th>
            <th><span>Experian</span></th>
            <th><span>CIBIL</span></th>
          </tr>
          <ng-container *ngIf="MstInterfaceResultMap != undefined">
            <!-- <tr  *ngFor="let customer of MstInterfaceResultMap; let i = index;"> -->
            <tr *ngFor="let customer of MstInterfaceResultMap | keyvalue">
              <td>
                <span class="cust-tag">
                  <span>{{customer.value.CustomerType}}</span>
                </span>
                <span>{{customer.value.FullName}}</span>
              </td>
              <td>
                <!-- <span class="d-flex">
                  <app-status-indicator [iconType]="'basic'"
                    [status]="customer.value.InterfaceResultDataMap.has('Experian')?customer.value.InterfaceResultDataMap.get('Experian').ResponseStatus:'disabled'">
                  </app-status-indicator>
                </span> -->
                <span class="d-flex">
                  <div class="indicator-section"
                    *ngIf="customer.value.InterfaceResultDataMap.has('EXPERIAN_CONSUMER');else showDefault">
                    <app-status-indicator [iconType]="'basic'"
                      [status]="customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus!=undefined ? customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus:'disabled'">
                    </app-status-indicator>
                    <span class="icon-link interface-modal"
                      *ngIf="customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus == 'completed' || customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus == 'Success'"
                      (click)="getInterfaceData('Experian')"></span>
                    <i class="icon-refresh trigger-interface"
                      *ngIf="customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus == 'completed' || customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').ResponseStatus == 'Success'"
                      [ngClass]="customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER').isTriggered ? 'disabled' : ''"
                      (click)="triggerInterface(customer.value.InterfaceResultDataMap.get('EXPERIAN_CONSUMER'),'experian')"></i>
                  </div>
                </span>
              </td>
              <td>
                <!-- <span class="d-flex">
                  <app-status-indicator [iconType]="'basic'"
                    [status]="customer.value.InterfaceResultDataMap.has('CIBIL001')?customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus:'disabled'">
                  </app-status-indicator>
                </span> -->
                <span class="d-flex">
                  <div class="indicator-section"
                    *ngIf="customer.value.InterfaceResultDataMap.has('CIBIL001');else showDefault">
                    <app-status-indicator [iconType]="'basic'"
                      [status]="customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus!=undefined ? customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus:'disabled'">
                    </app-status-indicator>
                    <span class="icon-link interface-modal"
                      *ngIf="customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus == 'completed' || customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus == 'Success'"
                      (click)="getInterfaceData('CIBIL')"></span>
                    <i class="icon-refresh trigger-interface"
                      *ngIf="customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus == 'completed' || customer.value.InterfaceResultDataMap.get('CIBIL001').ResponseStatus == 'Success'"
                      [ngClass]="customer.value.InterfaceResultDataMap.get('CIBIL001').isTriggered ? 'disabled' : ''"
                      (click)="triggerInterface(customer.value.InterfaceResultDataMap.get('CIBIL001'),'cibil')"></i>
                  </div>
                </span>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #showDefault>
  <div class="indicator-section">
    <app-status-indicator [iconType]="'basic'" [status]="'disabled'">
    </app-status-indicator>
  </div>
</ng-template>

<!-- <ng-template #showPrimary>
  <span>{{ 'CustomerGridDTLS.PrimaryApplicantTag' | translate }}</span>
</ng-template> -->
<!-- Modal Sections -->
<!-- <td>
  <span class="d-flex">
    <div class="indicator-section">
      <app-status-indicator [iconType]="'basic'" [status]="'completed'">
      </app-status-indicator>
      <span class="indicator-options">A</span>
    </div>
  </span>
</td> -->